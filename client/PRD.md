# SoDEX 交易平台 - 产品需求文档 (PRD)

**版本:** v1.0
**更新日期:** 2026-01-20
**状态:** 开发中

---

## 1. 产品概述

SoDEX 是一个创新的加密货币交易平台，通过独特的等级系统、能量机制和研究员服务，为用户提供差异化的交易体验。

### 1.1 核心价值主张
- **等级权益**: 通过交易行为解锁更多服务和权益
- **能量系统**: 创新的激励机制，交易产生能量可兑换服务
- **研究员服务**: 为高级用户提供专业分析师的直接连接
- **实时路演**: 行业专家的实时直播和互动

---

## 2. 已实现功能

### 2.1 等级系统 (Level System)

| 等级 | 最低手续费 | 权益 |
|------|-----------|------|
| Bronze | $0 | AI客服 · 基础行情 |
| Silver | $50 | AI研究员 · 深度分析 |
| Gold | $500 | 专属研究员 · 专属研报 · 加入社群 · 路演日历 |
| Diamond | $5,000 | VIP研究员 · 电话咨询 · 私享频道 · 路演日历 |

**功能详情:**
- [x] 等级徽章显示 (TopNav)
- [x] 等级详情下拉框
- [x] 等级进度条
- [x] Boost 加成 (持有 SoSo 代币)
- [x] Shield 保护 (质押 SSI)
- [x] 能量余额显示
- [x] 能量历史记录
- [x] 模拟交易功能
- [x] 移动端全屏适配

### 2.2 能量系统 (Energy System)

**铸造规则:**
- 现货交易: 0.07% 手续费 = 等额能量
- 合约交易: 0.035% 手续费 = 等额能量
- Boost 加成: 持有 SoSo 代币最高 +10%

**衰减规则:**
- 每周衰减 10%
- Shield 保护: 质押 SSI 保护部分能量不衰减
  - 普通质押: 保护 50 能量/周
  - Core SSI ($200k+): 保护 150 能量/周
  - VIP SSI ($1M+): 保护 500 能量/周

### 2.3 AI Cat 助手

**位置:** 右下角浮动按钮

**功能:**
- [x] 智能等级识别 (Bronze/Silver 显示 AI Bot，Gold+ 显示 Researcher)
- [x] 升级特效动画 (Sparkles + 弹跳 + 光环)
- [x] 等级光环颜色
- [x] 悬停提示 (桌面端)
- [x] 移动端位置适配

### 2.4 聊天面板 (Chat Panel)

**位置:** 右下角弹出

**功能:**
- [x] AI 客服对话 (所有用户)
- [x] 研究员连接 (Gold+)
- [x] 消息历史滚动
- [x] 扩展/收缩模式
- [x] 点击外部关闭
- [x] 移动端全屏适配

### 2.5 事件日历系统

#### 2.5.1 宏观日历 (Macro Calendar)

**已实现事件类型:**
- [x] 央行决议 (FOMC, ECB, BoE, BoJ)
- [x] 经济数据 (CPI, GDP, 非农)
- [x] 财报 (NVIDIA 等)

**功能:**
- [x] 日历网格视图 (桌面端)
- [x] 事件列表视图
- [x] 重要性标签 (高/中/低)
- [x] 前值/预测/实际值显示
- [x] 设置提醒
- [x] 直播标签

#### 2.5.2 路演日历 (Roadshow Calendar)

**已实现功能:**
- [x] 路演列表
- [x] LIVE 标签 (进行中)
- [x] 等级权限控制 (Gold/Diamond)
- [x] 报名人数显示
- [x] 路演类型 (视频/音频/AMA)

#### 2.5.3 资产特定事件 (待完善)

**已准备数据:**
- BTC: 减半倒计时、GBTC 解锁
- ETH: Dencun 升级、Staking 解锁
- SOL: Breakpoint 大会、Jupiter 空投

### 2.6 直播模态框 (Live Modal)

**功能:**
- [x] 视频播放区域 (模拟)
- [x] 实时评论流 (自动模拟)
- [x] 点赞功能 + 飘心动画
- [x] 刷礼物功能
  - 普通礼物: 点赞、火箭
  - 大额礼物: 钻石、皇冠、兰博基尼、飞船
- [x] 火箭特效 (多发并行)
- [x] 全网礼物广播 (大额礼物)
- [x] 最小化到右下角
- [x] 移动端全屏适配

### 2.7 研报系统

**功能:**
- [x] 研报推送通知 (右上角弹出)
- [x] AI 实时解读动画
- [x] 研报详情模态框
- [x] 等级权限控制

### 2.8 UI/UX 优化

**点击外部关闭:**
- [x] ChatPanel
- [x] TopNav 等级下拉框
- [x] 语言切换下拉框
- [x] RoadshowCalendar (backdrop)
- [x] RoadshowLiveModal (backdrop)

**移动端适配:**
- [x] ChatPanel - 全屏
- [x] RoadshowCalendar - 响应式布局
- [x] RoadshowLiveModal - 响应式布局
- [x] TopNav 等级下拉框 - 全屏
- [x] AICatButton - 位置调整

**悬停提示 (桌面端):**
- [x] Boost 功能说明
- [x] Shield 功能说明
- [x] 能量系统说明

---

## 3. 待实现功能

### 3.1 高优先级

| 功能 | 描述 | 状态 |
|------|------|------|
| 宏观日历增强 | 添加更多宏观事件和加密事件 | 待开发 |
| 资产事件集成 | 用户选中资产时显示相关事件 | 待开发 |
| 用户引导流程 | 新用户首次登录引导 | 待开发 |

### 3.2 中优先级

| 功能 | 描述 | 状态 |
|------|------|------|
| 通知中心 | 统一的通知管理界面 | 待设计 |
| 研究员评分 | 用户对研究员的评分系统 | 待设计 |
| 历史记录 | 观看/互动历史记录 | 待设计 |

### 3.3 低优先级

| 功能 | 描述 | 状态 |
|------|------|------|
| 社交功能 | 用户之间的关注/互动 | 待规划 |
| 成就系统 | 交易成就徽章 | 待规划 |
| 自定义主题 | 用户界面主题切换 | 待规划 |

---

## 4. 技术架构

### 4.1 前端技术栈
- **框架:** React 18 + TypeScript
- **构建工具:** Vite
- **样式:** Tailwind CSS
- **状态管理:** Zustand
- **国际化:** 自定义 i18n 方案
- **图标:** Lucide React

### 4.2 核心组件结构

```
src/
├── components/
│   ├── AICatButton/          # AI助手按钮
│   ├── ChatPanel/            # 聊天面板
│   ├── RoadshowCalendar.tsx  # 日历组件
│   ├── NewUserWelcomeModal/  # 新用户引导
│   └── trading/
│       ├── TopNav.tsx        # 顶部导航+等级系统
│       ├── RoadshowTicker.tsx    # 路演滚动条
│       ├── RoadshowLiveModal.tsx # 直播弹窗
│       ├── ResearchReportModal.tsx # 研报弹窗
│       └── ReportNotification.tsx  # 研报推送
├── stores/
│   ├── userStore.ts          # 用户状态
│   └── chatStore.ts          # 聊天状态
├── types/
│   └── index.ts              # 类型定义+配置
└── i18n/
    └── index.ts              # 多语言
```

### 4.3 响应式断点
- **移动端:** < 768px (md)
- **桌面端:** >= 768px

---

## 5. 下一步计划与建议

### 5.1 短期计划 (1-2周)

1. **完善宏观日历**
   - 添加更多央行决议事件 (PBOC, RBA, etc.)
   - 添加加密行业特定事件 (ETF 审批、协议升级)
   - 添加监管新闻事件

2. **资产事件联动**
   - 在交易界面选择资产时，显示该资产的相关事件
   - 事件提醒与交易策略关联

3. **优化用户体验**
   - 添加骨架屏加载状态
   - 优化动画性能
   - 添加错误边界处理

### 5.2 中期计划 (1个月)

1. **后端集成**
   - 实际的用户认证系统
   - 实时数据 WebSocket 连接
   - 研究员匹配算法

2. **数据分析**
   - 用户行为追踪
   - 等级升级转化漏斗
   - 研究员服务使用率

3. **通知系统**
   - 浏览器推送通知
   - 邮件通知
   - App 推送 (如有移动端)

### 5.3 产品建议

#### 增长相关
1. **邀请奖励**: 邀请好友获得能量奖励
2. **任务系统**: 每日任务获取额外能量
3. **排行榜**: 交易量/能量排行，增加竞争性

#### 留存相关
1. **订阅服务**: 研究员月度/年度订阅
2. **内容回放**: 历史路演回放功能
3. **个性化推荐**: 基于交易偏好的研究员推荐

#### 变现相关
1. **付费咨询**: 一对一付费咨询服务
2. **高级研报**: Diamond 专属深度研报
3. **VIP 活动**: 线下私享会议

---

## 6. 风险与注意事项

### 6.1 技术风险
- WebSocket 连接稳定性
- 大量并发用户时的性能
- 移动端兼容性测试

### 6.2 合规风险
- 投资建议的合规性声明
- 用户数据隐私保护
- 地区访问限制

### 6.3 运营风险
- 研究员质量控制
- 内容审核机制
- 用户投诉处理

---

## 7. 版本历史

| 版本 | 日期 | 更新内容 |
|------|------|----------|
| v1.0 | 2026-01-20 | 初始PRD文档，整理已实现功能 |

---

## 8. 附录

### 8.1 颜色系统
```css
--brand-yellow: #f7931a (主色调)
--brand-green: #16c784 (成功/正向)
--brand-red: #ea3943 (错误/负向)
--bg-app: #0b0e11 (应用背景)
--bg-panel: #1e2329 (面板背景)
--bg-surface: #2b3139 (表面背景)
--text-main: #eaecef (主文本)
--text-muted: #848e9c (次要文本)
--text-dim: #5e6673 (弱化文本)
```

### 8.2 等级图标
- Bronze: 🥉
- Silver: 🥈
- Gold: 🥇
- Diamond: 👑

---

*文档由 Claude AI 协助生成和维护*
